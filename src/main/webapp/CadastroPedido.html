<!-- 
    Document   : CadastroPedido
    Created on : 29/04/2018
    Author     : Morgana
-->


<!DOCTYPE html>
<html>
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Guten Burguer - Adicionar Pedido</title>

<script src="library/jquery-3.2.1.min.js">
	
</script>
<script type="text/javascript" src="controller/cliente/cadastroCliente.js"></script>
<script type="text/javascript" src="controller/generics/validacoesGenericas.js"></script>
<script src="library/DataTables/jQuery-3.2.1/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="controller/produto/cadastroProduto.js"></script>
<script type="text/javascript" src="controller/generics/validacoesGenericas.js"></script>
<script type="text/javascript" src="controller/generics/requestService.js"></script>
<!-- DataTables -->
<link rel="stylesheet" type="text/css"
	href="library/DataTables/datatables.min.css" />
	<script type="text/javascript"
	src="library/DataTables/datatables.min.js"></script>

<!-- FontAwesome -->
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet"
	href="path/to/font-awesome/css/font-awesome.min.css">

<link
	href='http://fonts.googleapis.com/css?family=Noto+Sans:400,700,400italic'
	rel='stylesheet' type='text/css'>


<link href="css/style.css" rel="stylesheet" />
<script type="text/javascript">
	$(function() {
		$("#includeMenu").load("Menu.html");
	});
</script>
        
    </head>
    <body>
	
		
<div id="includeMenu"></div>

        <div class="d-flex align-items-stretch">			

            <div class="content p-4">
                <div class="content-title"><i class="fa fa-id-card-o"></i>Pedidos<i class="fa fa-angle-right"></i>Cadastro de Pedidos</div>
					<div class="formtitle">Cadastrar pedido</div>                					
                    <form>
                    <div class="page-cad">
                         <div class="form-row">	
								<div class="form-group col-md-2">
							<label for="foneCli" class="control-label">Telefone</label>
							<input class="form-control" id="foneCli" type="text"
								maxlength="15">
						</div>
						
						<button type="button" class="button-buscar" title="Buscar dados do cliente">Buscar</button>
					
                             <div class="form-group col-md-5">
                                 <label for="logrEndCli" class="control-label">Nome</label>
                                 <input class="form-control" id="nomeCli" type="text" maxlength="255" value="Exemplo da Silva" disabled>                               
                             </div>
                             
                            <a href="CadastroCliente.html"><button type="button" class="button-add"><i class="fa fa-plus"></i>Cadastrar cliente</button></a>
						</div>
						
						<!-- Programador, ao clicar em "Buscar" e não encontrar o telefone, deverá habilitar o campo "Nome",
						exibir o botão "Cadastrar cliente" e exibir a mensagem abaixo. -->
						
						<div class="alert alert-danger" role="alert">
 						  Telefone não encontrado! Busque pelo nome do cliente ou realize o cadastro do cliente.
						</div>
						<div class="form-row">
                             <div class="form-group col-md-5">
                                 <label for="endCli" class="control-label required">Endereço de entrega</label>
                                 <select class="form-control" id="endCli" min="1" required>										 
									<option value="1">Rua VX, 552, Centro, Blumenau, SC</option>
									<option value="2">Rua Sete de Setembro, 1234, Centro, Blumenau, SC</option>
									<option value="0">Endereço alternativo</option>
									</select>
                             </div>
							 <div class="form-group col-md-3">
								<label for="formaPgto" class="control-label">Forma de pagamento</label>
                                <select class="form-control" id="endCli" min="1">										 									
									<option value="1">Cartão de crédito</option>
									<option value="2">Cartão de débito</option>
									<option value="3">Dinheiro</option>
									</select>                              
							</div>							
						</div>                                                                                                     

						
						<br>						
						<fieldset class="well">
						<legend class="well-legend">Itens do pedido</legend>
						
						<div class="form-row">					
								
						<div class="form-group col-md-7">
							<label for="descProd" class="control-label">Produto</label>
							<input class="form-control" id="descProd" type="text"
								maxlength="70">
						</div>
						
						<button type="button" class="button-search" title="Consultar produtos" data-toggle="modal" data-target="#ModalProdutos"><i class="fa fa-search"></i></button>
						
						<div class="form-group col-md-2">
							<label for="qtdProd">Quantidade</label> <input class="form-control"
								id="qtdProd" value="1" type="number" min="1">
						</div>
						
						<a href="#"><button type="button" class="button-add"><i class="fa fa-plus"></i>Adicionar produto</button></a>
						
						</div>
						
						<div class="itens-content">		
						<div class="itens-body">					
						<table class="table table-bordered table-hover">
							<thead>
								<tr>
									<th scope="col">Código</th>
									<th scope="col">Nome</th>
									<th scope="col">Preço</th>
									<th scope="col">Quantidade</th>
									<th scope="col">Total</th>
									<th scope="col">Opções</th>
								</tr>
							</thead>								
							<tbody>                            
								<tr>
									<td>1</td>
									<td>X-Burger</td>
									<td>R$8,50</td>	
									<td>2</td>		
									<td>R$17,00</td>								
									<td class="table-buttons-pedido">
									<button type="button" class="table-add" data-toggle="modal" data-target="#ModalAdicionais" data-nome="X-Burger" data-codigo="3" title="Incluir adicionais ao item"><i class="fa fa-plus-circle"></i></button>
									<a href="#"><button type="button" class="table-del" title="Excluir item"><i class="fa fa-close"></i></button></a>
									</td>
								</tr>
								<tr>
									<td>2</td>
									<td>X-Bacon</td>
									<td>R$10,00</td>	
									<td>1</td>		
									<td>R$10,00</td>								
									<td class="table-buttons-pedido">
									<button type="button" class="table-add" data-toggle="modal" data-target="#ModalAdicionais" data-nome="X-Bacon" data-codigo="3" title="Incluir adicionais ao item"><i class="fa fa-plus-circle"></i></button>
									<a href="#"><button type="button" class="table-del" title="Excluir item"><i class="fa fa-close"></i></button></a>
									</td>
								</tr>
								<tr>
									<td>3</td>
									<td>Porção de fritas</td>
									<td>R$7,00</td>	
									<td>2</td>		
									<td>R$14,00</td>								
									<td class="table-buttons-pedido">
									<button type="button" class="table-add" data-toggle="modal" data-target="#ModalAdicionais" data-nome="Porção de fritas" data-codigo="3" title="Incluir adicionais ao item"><i class="fa fa-plus-circle"></i></button>
									<a href="#"><button type="button" class="table-del" title="Excluir item"><i class="fa fa-close"></i></button></a>
									</td>
								</tr>
								<tr>
									<td>4</td>
									<td>X-Burger</td>
									<td>R$8,50</td>	
									<td>2</td>		
									<td>R$17,00</td>								
									<td class="table-buttons-pedido">
									<button type="button" class="table-add" data-toggle="modal" data-target="#ModalAdicionais" data-nome="X-Burger" data-codigo="3" title="Incluir adicionais ao item"><i class="fa fa-plus-circle"></i></button>
									<a href="#"><button type="button" class="table-del" title="Excluir item"><i class="fa fa-close"></i></button></a>
									</td>
								</tr>
								<tr>
									<td>5</td>
									<td>X-Bacon</td>
									<td>R$10,00</td>	
									<td>1</td>		
									<td>R$10,00</td>								
									<td class="table-buttons-pedido">
									<button type="button" class="table-add" data-toggle="modal" data-target="#ModalAdicionais" data-nome="X-Bacon" data-codigo="3" title="Incluir adicionais ao item"><i class="fa fa-plus-circle"></i></button>
									<a href="#"><button type="button" class="table-del" title="Excluir item"><i class="fa fa-close"></i></button></a>
									</td>
								</tr>
								<tr>
									<td>6</td>
									<td>Porção de fritas</td>
									<td>R$7,00</td>	
									<td>2</td>		
									<td>R$14,00</td>								
									<td class="table-buttons-pedido">
									<button type="button" class="table-add" data-toggle="modal" data-target="#ModalAdicionais" data-nome="Porção de fritas" data-codigo="3" title="Incluir adicionais ao item"><i class="fa fa-plus-circle"></i></button>
									<a href="#"><button type="button" class="table-del" title="Excluir item"><i class="fa fa-close"></i></button></a>
									</td>
								</tr>
							</tbody>
						</table>
						</div>
						</div>
						</fieldset>
						<div class="form-row">
						<div class="form-group col-md-12">
							<label for="obsPed" class="control-label">Observações do pedido</label>
							<textarea class="form-control" rows="4" id="obsPed"></textarea>
							</div>							
						</div>
						<div class="form-row">
							<div class="form-group col-md-2" style="margin-left: 83.2%">
								<label for="pedtroco" class="control-label">Troco</label>
                                <input class="form-control" id="pedtroco" type="text">                               
							</div>
							</div>
							<table class="table table-bordered" style="text-align:right;  margin-left: 60%; width: 40%; background-color:#f5f5f5">
							<tr>
							<td>Total dos itens:</td>
							<td>R$ 82,00</td>
							</tr>
							<tr>
							<td>Taxa de entrega:</td>
							<td>R$ 10,00</td>
							</tr>
							<tr>
							<td>Total do pedido:</td>
							<td style="font-weight:bold">R$ 92,00</td>
							</tr>
							<tr>
							<td>Tempo estimado de entrega:</td>
							<td style="font-weight:bold"">1 hora</td>
							</tr>
							</table>					
						<br>
						<center>
							<a href="#"><button type="button" class="btn btn-secondary">Cancelar</button></a>
							<a href="#"><button type="button" class="btn btn-success"></i><i class="fa fa-save"></i>Gerar Pedido</button></a>          
						</center> 
						</div>
                    </form>                                 
            </div>
        </div>
    
    <!-- Modal produtos -->
	<div class="modal fade" id="ModalProdutos" tabindex="-1"
			role="dialog" aria-labelledby="ModalTitulo" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="ModalTitulo">Lista de produtos</h5>
						<button type="button" class="close" data-dismiss="modal"
							aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">

						<table class="table table-bordered table-hover" style="cursor:pointer" title="Duplo clique para selecionar">
							<thead>
								<tr>
									<th scope="col">Código</th>
									<th scope="col">Descrição</th>
									<th scope="col">Preço</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>101</td>
									<td>Maionese</td>
									<td>R$1,50</td>
								</tr>
								<tr>
									<td>102</td>
									<td>Ervilha</td>
									<td>R$1,00</td>
								</tr>
								<tr>
									<td>103</td>
									<td>Batata palha</td>
									<td>R$0,50</td>
								</tr>
								<tr>
									<td>104</td>
									<td>Fritas</td>
									<td>R$4,50</td>
								</tr>
								<tr>
									<td>105</td>
									<td>Maionese</td>
									<td>R$1,50</td>
								</tr>
								<tr>
									<td>106</td>
									<td>Ervilha</td>
									<td>R$1,00</td>
								</tr>
								<tr>
									<td>107</td>
									<td>Batata palha</td>
									<td>R$0,50</td>
								</tr>
								<tr>
									<td>108</td>
									<td>Fritas</td>
									<td>R$4,50</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="modal-footer">
					</div>
				</div>
			</div>
		</div>
		    
	<!-- Modal adicionais -->
	<div class="modal fade" id="ModalAdicionais" tabindex="-1"
			role="dialog" aria-labelledby="ModalTitulo" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="ModalTitulo"></h5>
						<button type="button" class="close" data-dismiss="modal"
							aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">

						<table class="table table-bordered table-hover">
							<thead>
								<tr>
									<th scope="col">Código</th>
									<th scope="col">Nome</th>
									<th scope="col">Preço</th>
									<th scope="col">Adicionar</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>101</td>
									<td>Maionese</td>
									<td>R$1,50</td>
									<td><input class="check-adicionais" type="checkbox"></td>
								</tr>
								<tr>
									<td>102</td>
									<td>Ervilha</td>
									<td>R$1,00</td>
									<td><input class="check-adicionais" type="checkbox"></td>
								</tr>
								<tr>
									<td>103</td>
									<td>Batata palha</td>
									<td>R$0,50</td>
									<td><input class="check-adicionais" type="checkbox"></td>
								</tr>
								<tr>
									<td>104</td>
									<td>Fritas</td>
									<td>R$4,50</td>
									<td><input class="check-adicionais" type="checkbox"></td>
								</tr>
								<tr>
									<td>105</td>
									<td>Maionese</td>
									<td>R$1,50</td>
									<td><input class="check-adicionais" type="checkbox"></td>
								</tr>
								<tr>
									<td>106</td>
									<td>Ervilha</td>
									<td>R$1,00</td>
									<td><input class="check-adicionais" type="checkbox"></td>
								</tr>
								<tr>
									<td>107</td>
									<td>Batata palha</td>
									<td>R$0,50</td>
									<td><input class="check-adicionais" type="checkbox"></td>
								</tr>
								<tr>
									<td>108</td>
									<td>Fritas</td>
									<td>R$4,50</td>
									<td><input class="check-adicionais" type="checkbox"></td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-success"
							data-dismiss="modal">Salvar adicionais</button>
					</div>
				</div>
			</div>
		</div>
    </body>

<!-- Script para o modal -->	
	<script type="text/javascript">
		$('#ModalAdicionais').on('show.bs.modal', function (event) {
			var button = $(event.relatedTarget) // Botão que dispoarou o modal
			var nome = button.data('nome') // Extraí a string do atributo data-nome			
			// A requisição AJAX vai aqui.
			
			// Atualiza o conteúdo da modal.
			var modal = $(this)
			modal.find('.modal-title').text('Lista de adicionais do(a) ' + nome)
		})
	</script>
</html>
